export interface InventoryItem {
  id: string;
  deviceName: string;
  brand: string;
  grade: "A" | "B" | "C" | "D";
  storage: string;
  quantity: number;
  pricePerUnit: number;
  purchasePrice?: number | null;
  hst?: number | null;
  sellingPrice: number;
  lastUpdated: string;
  priceChange?: "up" | "down" | "stable";
}

// Helper to calculate price per unit: (purchasePrice / quantity) * (1 + hst/100)
export function calculatePricePerUnit(
  purchasePrice: number,
  quantity: number,
  hst: number
): number {
  if (quantity === 0) return 0;
  return Math.round((purchasePrice / quantity) * (1 + hst / 100) * 100) / 100;
}

// Sample inventory data used by seed/reset scripts
export const inventoryData: InventoryItem[] = [
  {
    id: "1",
    deviceName: "Apple Watch Series 7 â€“ 41mm",
    brand: "Apple",
    grade: "A",
    storage: "32GB",
    quantity: 31,
    purchasePrice: 3720,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(3720, 31, 13),
    sellingPrice: 150,
    lastUpdated: "2h ago",
    priceChange: "stable",
  },
  {
    id: "2",
    deviceName: "Google Pixel 7a",
    brand: "Google",
    grade: "A",
    storage: "128GB",
    quantity: 4,
    purchasePrice: 620,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(620, 4, 13),
    sellingPrice: 200,
    lastUpdated: "30m ago",
    priceChange: "down",
  },
  {
    id: "3",
    deviceName: "Google Pixel 8",
    brand: "Google",
    grade: "A",
    storage: "128GB",
    quantity: 11,
    purchasePrice: 2310,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(2310, 11, 13),
    sellingPrice: 270,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "4",
    deviceName: "Google Pixel 8 Pro",
    brand: "Google",
    grade: "A",
    storage: "128GB",
    quantity: 1,
    purchasePrice: 300,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(300, 1, 13),
    sellingPrice: 380,
    lastUpdated: "5h ago",
    priceChange: "stable",
  },
  {
    id: "5",
    deviceName: "iPhone 13",
    brand: "Apple",
    grade: "B",
    storage: "128GB",
    quantity: 8,
    purchasePrice: 2720,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(2720, 8, 13),
    sellingPrice: 420,
    lastUpdated: "3h ago",
    priceChange: "down",
  },
  {
    id: "6",
    deviceName: "iPhone 14 Pro",
    brand: "Apple",
    grade: "A",
    storage: "256GB",
    quantity: 3,
    purchasePrice: 1920,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1920, 3, 13),
    sellingPrice: 780,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "7",
    deviceName: "Samsung Galaxy S23",
    brand: "Samsung",
    grade: "A",
    storage: "128GB",
    quantity: 14,
    purchasePrice: 3850,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(3850, 14, 13),
    sellingPrice: 350,
    lastUpdated: "4h ago",
    priceChange: "stable",
  },
  {
    id: "8",
    deviceName: "Motorola Edge 40",
    brand: "Motorola",
    grade: "A",
    storage: "128GB",
    quantity: 6,
    purchasePrice: 1356,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1356, 6, 13),
    sellingPrice: 320,
    lastUpdated: "2h ago",
    priceChange: "stable",
  },
  {
    id: "9",
    deviceName: "Motorola Razr 40",
    brand: "Motorola",
    grade: "A",
    storage: "256GB",
    quantity: 2,
    purchasePrice: 904,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(904, 2, 13),
    sellingPrice: 550,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "10",
    deviceName: "iPhone 12",
    brand: "Apple",
    grade: "B",
    storage: "64GB",
    quantity: 12,
    purchasePrice: 3600,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(3600, 12, 13),
    sellingPrice: 380,
    lastUpdated: "1h ago",
    priceChange: "down",
  },
  {
    id: "11",
    deviceName: "Samsung Galaxy S22",
    brand: "Samsung",
    grade: "B",
    storage: "128GB",
    quantity: 7,
    purchasePrice: 1750,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1750, 7, 13),
    sellingPrice: 320,
    lastUpdated: "3h ago",
    priceChange: "stable",
  },
  {
    id: "12",
    deviceName: "Google Pixel 6",
    brand: "Google",
    grade: "C",
    storage: "128GB",
    quantity: 5,
    purchasePrice: 650,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(650, 5, 13),
    sellingPrice: 180,
    lastUpdated: "4h ago",
    priceChange: "down",
  },
  {
    id: "13",
    deviceName: "iPhone 11",
    brand: "Apple",
    grade: "C",
    storage: "64GB",
    quantity: 9,
    purchasePrice: 2070,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(2070, 9, 13),
    sellingPrice: 300,
    lastUpdated: "2h ago",
    priceChange: "stable",
  },
  {
    id: "14",
    deviceName: "Samsung Galaxy A54",
    brand: "Samsung",
    grade: "B",
    storage: "128GB",
    quantity: 15,
    purchasePrice: 2850,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(2850, 15, 13),
    sellingPrice: 250,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "15",
    deviceName: "Apple Watch Series 6",
    brand: "Apple",
    grade: "B",
    storage: "32GB",
    quantity: 6,
    purchasePrice: 540,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(540, 6, 13),
    sellingPrice: 120,
    lastUpdated: "5h ago",
    priceChange: "down",
  },
  {
    id: "16",
    deviceName: "iPhone 13 Pro Max",
    brand: "Apple",
    grade: "A",
    storage: "256GB",
    quantity: 2,
    purchasePrice: 1400,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1400, 2, 13),
    sellingPrice: 850,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "17",
    deviceName: "Samsung Galaxy S21",
    brand: "Samsung",
    grade: "C",
    storage: "128GB",
    quantity: 4,
    purchasePrice: 840,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(840, 4, 13),
    sellingPrice: 280,
    lastUpdated: "3h ago",
    priceChange: "stable",
  },
  {
    id: "18",
    deviceName: "Google Pixel 7",
    brand: "Google",
    grade: "A",
    storage: "128GB",
    quantity: 8,
    purchasePrice: 1480,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1480, 8, 13),
    sellingPrice: 240,
    lastUpdated: "2h ago",
    priceChange: "up",
  },
  {
    id: "19",
    deviceName: "iPhone 14",
    brand: "Apple",
    grade: "A",
    storage: "128GB",
    quantity: 10,
    purchasePrice: 5300,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(5300, 10, 13),
    sellingPrice: 650,
    lastUpdated: "1h ago",
    priceChange: "stable",
  },
  {
    id: "20",
    deviceName: "Samsung Galaxy Note 20",
    brand: "Samsung",
    grade: "B",
    storage: "256GB",
    quantity: 3,
    purchasePrice: 960,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(960, 3, 13),
    sellingPrice: 400,
    lastUpdated: "4h ago",
    priceChange: "down",
  },
  {
    id: "21",
    deviceName: "iPhone XR",
    brand: "Apple",
    grade: "D",
    storage: "64GB",
    quantity: 2,
    purchasePrice: 200,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(200, 2, 13),
    sellingPrice: 150,
    lastUpdated: "6h ago",
    priceChange: "stable",
  },
  {
    id: "22",
    deviceName: "Samsung Galaxy S20",
    brand: "Samsung",
    grade: "D",
    storage: "128GB",
    quantity: 1,
    purchasePrice: 125,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(125, 1, 13),
    sellingPrice: 180,
    lastUpdated: "5h ago",
    priceChange: "stable",
  },
  {
    id: "23",
    deviceName: "Google Pixel 5",
    brand: "Google",
    grade: "D",
    storage: "128GB",
    quantity: 2,
    purchasePrice: 160,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(160, 2, 13),
    sellingPrice: 120,
    lastUpdated: "7h ago",
    priceChange: "stable",
  },
  {
    id: "24",
    deviceName: "Apple Watch Series 5",
    brand: "Apple",
    grade: "D",
    storage: "32GB",
    quantity: 1,
    purchasePrice: 55,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(55, 1, 13),
    sellingPrice: 80,
    lastUpdated: "8h ago",
    priceChange: "stable",
  },
  {
    id: "25",
    deviceName: "iPhone 12 Mini",
    brand: "Apple",
    grade: "C",
    storage: "64GB",
    quantity: 6,
    purchasePrice: 1500,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1500, 6, 13),
    sellingPrice: 320,
    lastUpdated: "2h ago",
    priceChange: "down",
  },
  {
    id: "26",
    deviceName: "Samsung Galaxy Z Flip 3",
    brand: "Samsung",
    grade: "A",
    storage: "256GB",
    quantity: 1,
    purchasePrice: 440,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(440, 1, 13),
    sellingPrice: 550,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
  {
    id: "27",
    deviceName: "Google Pixel 6a",
    brand: "Google",
    grade: "B",
    storage: "128GB",
    quantity: 11,
    purchasePrice: 1815,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1815, 11, 13),
    sellingPrice: 220,
    lastUpdated: "3h ago",
    priceChange: "stable",
  },
  {
    id: "28",
    deviceName: "iPhone SE (2022)",
    brand: "Apple",
    grade: "A",
    storage: "64GB",
    quantity: 5,
    purchasePrice: 1075,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1075, 5, 13),
    sellingPrice: 280,
    lastUpdated: "1h ago",
    priceChange: "stable",
  },
  {
    id: "29",
    deviceName: "Motorola Moto G 5G",
    brand: "Motorola",
    grade: "B",
    storage: "128GB",
    quantity: 10,
    purchasePrice: 1690,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1690, 10, 13),
    sellingPrice: 220,
    lastUpdated: "2h ago",
    priceChange: "down",
  },
  {
    id: "30",
    deviceName: "Motorola Edge 30",
    brand: "Motorola",
    grade: "B",
    storage: "256GB",
    quantity: 4,
    purchasePrice: 904,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(904, 4, 13),
    sellingPrice: 280,
    lastUpdated: "4h ago",
    priceChange: "stable",
  },
  {
    id: "31",
    deviceName: "Motorola Razr (2023)",
    brand: "Motorola",
    grade: "A",
    storage: "128GB",
    quantity: 3,
    purchasePrice: 1017,
    hst: 13,
    pricePerUnit: calculatePricePerUnit(1017, 3, 13),
    sellingPrice: 420,
    lastUpdated: "1h ago",
    priceChange: "up",
  },
];

export type StockStatus =
  | "in-stock"
  | "low-stock"
  | "critical"
  | "out-of-stock";

export function getStockStatus(quantity: number): StockStatus {
  if (quantity === 0) return "out-of-stock";
  if (quantity > 10) return "in-stock";
  if (quantity >= 5) return "low-stock";
  return "critical";
}

// formatPrice has been moved to src/lib/utils.ts
// Re-export for backward compatibility during migration
export { formatPrice } from "@/lib/utils";
